# JavaScript: The Good Parts

JavaScript优秀的想法包括函数、弱类型、动态对象、对象字面量表示法。

JavaScript的函数主要基于词法作用于（lexical scoping）的顶级对象。

JavaScript有一个无类型对象系统，对象直接从其他对象继承属性，这个就是原型继承的概念。



## 语法

### 空白

空白可能表现为被格式化的字符或注释形式。

空白通常没有意义，主要用空白分割字符序列，否则会被合并为一个符号。

注意注释导致语法错误：

```javascript
/*
 var rm_a = /a*/.match(s);
*/
```



### 标识符

标识符由一个字母开头，后面选择性加上一个或者多个字母、数字、下划线。

标识符被用于语句、变量、参数、属性名、运算符和标记。



### 数字

JavaScript只有一个数字类型，内部被表示为64位浮点数。

如果一个数字字面量有指数部分，name这个字面量的值等于e之前的数字与10的e之后数字的次方相乘。

NaN是一个数值，它表示一个不能产生正常的运算结果。

NaN不等于任何值，包括自身。

Infinity表示所有大于1.7976313486231570e+308的值。

Math对象，用于数字的方法。



### 字符串

由于JavaScript被创建的时候，Unicode是一个16位的字符集，所以JavaScript中的所有字符都是16位的。

JavaScript中没有字符类型，要表示一个字符，只需创建仅包含一个字符的字符串即可。

\u约定用来指数字字符编码，例如：'\u0041' ==='A'

字符串有一个length属性，表示长度。

字符串是不可变得，一旦创建就不能改变。

两个包含着完全相同的字符且字符顺序也相同的字符串被认为是相同字符串。



### 语句

一个编译单元包含一组可执行的语句。在Web浏览器中，每个\<script\>标签提供一个被编译且立即执行的编译单元。

当var语句被用在函数内部时，var定义的时函数的**私有变量**。(函数作用域)

switch、while、for 和 do语句允许一个可选标签label，配合break语句使用。

语句的执行顺序**从上到下**。

**代码块**是包在一对花括号中的一组语句。*JavaScript代码块不会创建新的作用域*，因此变量应该在函数头部，而不是代码块中。

除以下值外，都是真：

- false
- null
- undefined
- 空字符串
- 0
- NaN



switch语句、while语句、for语句、do语句

for in语句会枚举一个对象的所有属性名。

**try语句**执行一个代码块，并捕获giant代码块抛出的任何一次。

**catch从句**定义一个新的变量variable来接受抛出的异常对象。

throw语句抛出一个异常：

- 如果throw在try代码块内，则控制流会跳转到catch从句中。
- 如果throw语句在函数中，则该函数调用放弃，控制流跳转到调用该函数的try语句的catch从句中。

throw语句中的表达式通常是一个对象字面量，它包含一个name属性和一个message属性。

return语句，如果未指定返回值，则默认返回undefined。

**不允许在return/break关键字和表达式之间换行**



### 表达式

最简单的表达式是字面量值、变量、内置的值、以new开头的调用表达式、以delete开头的属性提取表达式、包括圆括号中的表达式、以一个前置运算符作为前导的表达式或表达式后跟：

- 一个中置运算符与另一个表达式
- 三元运算符
- 一个函数调用
- 一个属性提取表达式

运算符优先级：

| 符号                    | 定义               |
| ----------------------- | ------------------ |
| . []  ()                | 提取属性与调用函数 |
| delete new typeof + - ! | 一元运算符         |
| * /  %                  | 乘法、除法、求余   |
| + -                     | 加法/连接 、减法   |
| \>= \<= \> \<           | 不等式运算符       |
| ===  !==                | 等式运算符         |
| &&                      | 逻辑与             |
| \|\|                    | 逻辑或             |
| ？ ：                   | 三元运算符         |

> null 结果是object，这个是设计遗留问题
>
> \+ 运算符可以是加法或字符串连接，要用加法，必须确保两个数是数字
>
> / 即使两个都是整数，也有可能产生非整数结果
>
> && 结果是第二个表达式的结果
>
> || 优先取前一个表达式的值，如果非false,则取第二个表达式的值
>
> 函数调用引发函数执行



### 字面量



